<!doctype html>
<html lang="en" ng-app="myApp">
<head>
  <meta charset="utf-8">
  <title>AngularJS spark-scroll</title>
  <link href='http://fonts.googleapis.com/css?family=Expletus+Sans:700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="index.css"/>
</head>
<body ng-controller="appCtrl as app" ng-cloak>

<div class="hero">

  <h2>spark-scroll</h2>

  <div class="down-arrow" spark-scroll-animate="{
                             bottomBottom: { opacity: 1 },
                             'bottomBottom+200': { opacity: 0 }
                            }">v</div>
</div>

<!-- Note: all spark-scroll configuration objects are embedded in the markup of this page,
   however they could just as easily be instantiated in the controller to keep the markup nice and clean -->

<!-- fade -->
<h2 spark-scroll-animate="{
                            topBottom: { opacity: 0 },
                            topCenter: { opacity: 1 } }
                            ">fade</h2>

<!-- move -->
<h2 spark-scroll-animate="{
                            topBottom: { marginLeft: '-500px', opacity: 0 },
                            topCenter: { marginLeft: '0px', opacity: 1, ease: 'bouncePast' }
                            }">move</h2>

<!-- spin -->
<div spark-id="rotate-proxy"></div>
<h2 spark-trigger="rotate-proxy" spark-scroll-animate="{
                            topBottom: { rotate: '0deg' } ,
                            topCenter: { rotate: '360deg' }
                            }">spin</h2>

<!-- scale -->
<div spark-id="scale-proxy"></div>
<h2 spark-trigger="scale-proxy" spark-scroll-animate="{
                            'topCenter-201': { scale: 0.01, opacity: 0},
                            'topCenter-200': { scale: 0.01, opacity: 1 },
                            topCenter: { scale: 1, ease: 'bouncePast' }
                             }">scale</h2>

<!-- pin, reveal, slide, color, unpin -->
<div class="pin-cont" spark-id="pin-cont">

  <section class="pin" spark-scroll-animate="{
         topTop: { 'downAddClass,upRemoveClass': 'pin-pin' },
         bottomBottom: {  'downAddClass,upRemoveClass': 'pin-unpin' }
         }" spark-trigger="pin-cont" scope-elm>

    <h3 class="pin-txt" spark-scroll-animate="{
         'topTop': { top: '0%', marginTop: '0px' },
         'topTop+50  ': { top: '50%', marginTop: '-60px' }
         }" spark-trigger="pin-cont">pin</h3>

    <div spark-scroll-animate="{
         'topTop+100': { width: '0%', backgroundColor: '#5c832f' },
         'topTop+250': { width: ['100%','easeOutQuart'], backgroundColor: '#382513' }
         }" spark-trigger="pin-cont" class="reveal" scope-elm>
      <h3 class="reveal-txt">reveal</h3>
    </div>

    <!-- with array notation we can apply bounce easing to just one property in a keyframe -->
    <div spark-scroll-animate="{
         'topTop+250': { bottom: '100%', backgroundColor: '#5c832f', 'upAddClass,downRemoveClass': 'hide' },
         'topTop+400': { bottom: ['0%','bounce'], backgroundColor: '#284907' },
         'topTop+450': { backgroundColor: '#00a' },
         'topTop+500': { backgroundColor: '#a00' },
         'topTop+550': { backgroundColor: '#5c832f' }
         }" spark-trigger="pin-cont" class="slide hide" scope-elm>

      <!-- when we hit the appropriate scroll position, use elm.text(..) to change the
            text to 'slide' or 'color' depending on the scroll direction -->
      <h3 spark-scroll="{
              'topTop+450': { onDown: elm.text('color'), onUp: elm.text('slide') }
              }" spark-trigger="pin-cont" class="slide-txt" scope-elm>slide</h3>

      <h3 spark-scroll-animate="{
                 'topTop+600': { top: '100%', 'upAddClass,downRemoveClass': 'hide' },
                 'bottomBottom': { top: '50%' }
                 }" spark-trigger="pin-cont" class="unpin-txt hide">unpin</h3>
    </div>

  </section>

</div>

<div class="spacer50"></div>

<!-- parallax -->
<a href="https://www.flickr.com/photos/rafagarcia_/15262287738/in/pool-83823859@N00/">
  <div class="parallax-cont" spark-id="parallax">
    <div class="parallax-shadow"></div>

    <div spark-scroll-animate="{
         topBottom: { transform: 'translate3d(0px,0px,0px)' },
         bottomTop: { transform: 'translate3d(0px,-80px,0px)' }
         }" spark-trigger="parallax"
         class="parallax-img"></div>

    <h3 class="parallax-txt fade2" spark-scroll-animate="{
         topBottom: { transform: 'scale(0.8) translate3d(0px,120px,0px)' },
         bottomTop: { transform: 'scale(0.8) translate3d(0px,-120px,0px)' }
         }" spark-trigger="parallax">parallax</h3>

    <h3 class="parallax-txt fade1" spark-scroll-animate="{
         topBottom: { transform: 'scale(0.9) translate3d(0px,160px,0px)' },
         bottomTop: { transform: 'scale(0.9) translate3d(0px,-160px,0px)' }
         }" spark-trigger="parallax">parallax</h3>

    <h3 class="parallax-txt" spark-scroll-animate="{
         topBottom: { transform: 'translate3d(0px,200px,0px)' },
         bottomTop: { transform: 'translate3d(0px,-200px,0px)' }
         }" spark-trigger="parallax">parallax</h3>
  </div>
</a>


<div class="spacer50"></div>

<p>This demo was inspired by <a href="http://janpaepke.github.io/ScrollMagic/">ScrollMagic</a></p>

<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.3/angular.js"></script>
<script src="vendor/lodash.js"></script>
<script src="vendor/shifty.js"></script>
<script src="vendor/rekapi.js"></script>
<script src="vendor/AnimationFrame.js"></script>
<script src="../src/spark-scroll.js"></script>
<script src="index.js"></script>

</body>
</html>
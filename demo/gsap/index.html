<!doctype html>
<html lang="en" ng-app="myApp">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>AngularJS spark-scroll</title>
  <link href='http://fonts.googleapis.com/css?family=Expletus+Sans:700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="../index.css"/>
</head>
<body ng-controller="appCtrl as app" ng-cloak>

<div class="hero" spark-id="hero">
  <a href="https://github.com/gilbox/spark-scroll"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/e7bbb0521b397edbd5fe43e7f760759336b5e05f/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677265656e5f3030373230302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png"></a>

  <a href="https://github.com/gilbox/spark-scroll"><h1 spark-scroll-animate="{
                             topTop: { opacity: 1, transform: 'translate3d(0px,0px,0px)' },
                             'topTop+200': { opacity: 0, transform: 'translate3d(0px,250px,0px)' }
                            }" spark-trigger="hero"><img src="../spark.svg" alt=""/></h1></a>

  <div class="down-arrow" spark-scroll-animate="{
                             topTop: { opacity: 1, transform: 'translate3d(0px,0px,0px)' },
                             'topTop+200': { opacity: 0, transform: 'translate3d(0px,-150px,0px)' }
                            }" spark-trigger="hero">v</div>
</div>

<!-- Note: all spark-scroll configuration objects are embedded in the markup of this page,
   however they could just as easily be instantiated in the controller to keep the markup nice and clean -->

<!-- fade -->
<h2 spark-scroll-animate="{
                            bottomBottom: { opacity: 0 },
                            centerCenter: { opacity: 1 } }
                            ">fade</h2>

<!-- move -->
<h2 spark-scroll-animate="{
                            bottomBottom: { marginLeft: '-500px', opacity: 0 },
                            centerCenter: { marginLeft: '0px', opacity: 1, ease: 'easeOutElastic' }
                            }">move</h2>

<!-- spin -->
<div spark-id="rotate-proxy"></div>
<h2 spark-trigger="rotate-proxy" spark-scroll-animate="{
                            topBottom: { rotation: '0' } ,
                            topCenter: { rotation: '360' }
                            }">spin</h2>

<!-- scale -->
<div spark-id="scale-proxy"></div>
<h2 spark-trigger="scale-proxy" spark-scroll-animate="{
                            'topCenter-201': { scale: 0.01, opacity: 0},
                            'topCenter-200': { scale: 0.01, opacity: 1 },
                            'topCenter+70': { scale: 1, ease: 'easeOutBounce' }
                             }">scale</h2>

<!-- pin, reveal, slide, color, unpin -->
<div class="pin-cont" spark-id="pin-cont">

  <section class="pin" spark-scroll="{
         topTop: { 'downAddClass,upRemoveClass': 'pin-pin' },
         bottomBottom: {  'downAddClass,upRemoveClass': 'pin-unpin' }
         }" spark-trigger="pin-cont">

    <h3 class="pin-txt" spark-scroll-animate="{
         'topTop': { top: '0%', marginTop: '0px' },
         'topTop+50  ': { top: '50%', marginTop: '-60px' }
         }" spark-trigger="pin-cont">pin</h3>

    <div spark-scroll-animate="{
         'topTop+100': { width: '0%', backgroundColor: '#5c832f' },
         'topTop+250': { width: ['100%','easeOutQuart'], backgroundColor: '#382513' }
         }" spark-trigger="pin-cont" class="reveal">
      <h3 class="reveal-txt">reveal</h3>
    </div>

    <!-- with array notation we can apply bounce easing to just one property in a keyframe -->
    <div spark-scroll-animate="{
         'topTop+250': { bottom: '100%', backgroundColor: '#5c832f', 'upAddClass,downRemoveClass': 'hide' },
         'topTop+400': { bottom: ['0%','easeOutBounce'], backgroundColor: '#284907' },
         'topTop+450': { backgroundColor: '#00a' },
         'topTop+500': { backgroundColor: '#a00' },
         'topTop+550': { backgroundColor: '#5c832f' }
         }" spark-trigger="pin-cont" class="slide hide">

      <!-- when we hit the appropriate scroll position, use elm.text(..) to change the
            text to 'slide' or 'color' depending on the scroll direction -->
      <h3 spark-scroll="{
              'topTop+400': { onDown: elm.text('color'), onUp: elm.text('slide') }
              }" spark-trigger="pin-cont" class="slide-txt" scope-elm>slide</h3>

      <h3 spark-scroll-animate="{
                 'topTop+600': { top: '100%', 'upAddClass,downRemoveClass': 'hide' },
                 'bottomBottom': { top: '50%' }
                 }" spark-trigger="pin-cont" class="unpin-txt hide">unpin</h3>
    </div>

  </section>

</div>

<div class="spacer50"></div>

<!-- parallax -->
<a href="https://www.flickr.com/photos/rafagarcia_/15262287738/in/pool-83823859@N00/">
  <div class="parallax-cont" spark-id="parallax">
    <div class="parallax-shadow"></div>

    <div spark-scroll-animate="{
         topBottom: { transform: 'translate3d(0px,0px,0px)' },
         bottomTop: { transform: 'translate3d(0px,-80px,0px)' }
         }" spark-trigger="parallax"
         class="parallax-img"></div>

    <h3 class="parallax-txt fade2" spark-scroll-animate="{
         topBottom: { transform: 'scale(0.8) translate3d(0px,120px,0px)' },
         bottomTop: { transform: 'scale(0.8) translate3d(0px,-120px,0px)' }
         }" spark-trigger="parallax">parallax</h3>

    <h3 class="parallax-txt fade1" spark-scroll-animate="{
         topBottom: { transform: 'scale(0.9) translate3d(0px,160px,0px)' },
         bottomTop: { transform: 'scale(0.9) translate3d(0px,-160px,0px)' }
         }" spark-trigger="parallax">parallax</h3>

    <h3 class="parallax-txt" spark-scroll-animate="{
         topBottom: { transform: 'translate3d(0px,200px,0px)' },
         bottomTop: { transform: 'translate3d(0px,-200px,0px)' }
         }" spark-trigger="parallax">parallax</h3>
  </div>
</a>


<div class="spacer50"></div>

<a href="https://github.com/gilbox/spark-scroll">
  <img class="center" src="../GitHub-Mark-64px.png" alt=""/>
</a>

<div class="spacer10"></div>

<p class="center">This demo was inspired by <a href="http://janpaepke.github.io/ScrollMagic/">ScrollMagic</a></p>

<div class="spacer10"></div>

<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.3/angular.js"></script>

<!-- @todo: for some reason TimelineLite doesn't work and we have to use TweenMax instead -->
<!--<script src="../vendor/gsap/src/uncompressed/TweenLite.js"></script>-->
<!--<script src="../vendor/gsap/src/uncompressed/TimelineLite.js"></script>-->

<script src="../vendor/gsap/src/uncompressed/TweenMax.js"></script>

<script src="../vendor/lodash.js"></script>
<script src="../vendor/AnimationFrame.js"></script>
<script src="../../src/spark-scroll.js"></script>
<script src="../../src/plugins/spark-scroll-gsap.js"></script>
<script src="index.js"></script>

</body>
</html>